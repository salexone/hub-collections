<!-- menu.html -->
<div class="navbar">
  <!-- Left side: Title and Menu -->
  <div class="navbar-left">
    <div class="menu-title">HUB COLLECTIONS</div>

    <div class="navbar-menu">
      <a href="index.html"><i class="fa-solid fa-igloo" style="color: #ffffff;"></i> Home</a>

      <div class="dropdown">
        <button class="dropbtn"><i class="fa-solid fa-film"></i> Filmes</button>
        <div class="dropdown-content">
          <a href="add_film.html"><i class="fa-solid fa-plus"></i> Adicionar</a>
          <a href="film_dashboard.html"><i class="fa-solid fa-clipboard-list"></i> Lista</a>
          <a href="#"><i class="fa-solid fa-heart"></i> Desejos</a>
        </div>
      </div>

      <div class="dropdown">
        <button class="dropbtn"><i class="fa-solid fa-gamepad"></i> Videojogos</button>
        <div class="dropdown-content">
          <a href="add_videogame.html"><i class="fa-solid fa-plus"></i> Adicionar</a>
          <a href="videogame_dashboard.html"><i class="fa-solid fa-clipboard-list"></i> Lista</a>
          <a href="#"><i class="fa-solid fa-heart"></i> Desejos</a>
        </div>
      </div>

      <div class="dropdown">
        <button class="dropbtn"><i class="fa-solid fa-book"></i> Livros</button>
        <div class="dropdown-content">
          <a href="#"><i class="fa-solid fa-plus"></i> Adicionar</a>
          <a href="#"><i class="fa-solid fa-clipboard-list"></i> Lista</a>
          <a href="#"><i class="fa-solid fa-heart"></i> Desejos</a>
        </div>
      </div>

      <div class="dropdown">
        <button class="dropbtn"><i class="fa-solid fa-receipt"></i> Comics</button>
        <div class="dropdown-content">
          <a href="#"><i class="fa-solid fa-plus"></i> Adicionar</a>
          <a href="#"><i class="fa-solid fa-clipboard-list"></i> Lista</a>
          <a href="#"><i class="fa-solid fa-heart"></i> Desejos</a>
        </div>
      </div>

      <div class="dropdown">
        <button class="dropbtn"><i class="fa-solid fa-music"></i> MÃºsica</button>
        <div class="dropdown-content">
          <a href="#"><i class="fa-solid fa-plus"></i> Adicionar</a>
          <a href="#"><i class="fa-solid fa-clipboard-list"></i> Lista</a>
          <a href="#"><i class="fa-solid fa-heart"></i> Desejos</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Right side: Avatar -->
  <div class="avatar-container">
  <div class="avatar-dropdown">
    <img id="user-avatar" src="https://via.placeholder.com/40" alt="User Avatar" class="avatar-img" />
    <div class="avatar-dropdown-content">
      <a href="#" id="logout-btn">Logout</a>
    </div>
  </div>
</div>

</div>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCUpzUXiwihGhBzGfGcEzcm1-Zf5gAyj5A",
    authDomain: "hubcollections-a001e.firebaseapp.com",
    projectId: "hubcollections-a001e",
    storageBucket: "hubcollections-a001e.appspot.com",
    messagingSenderId: "765474227726",
    appId: "1:765474227726:web:480d8f30ed57cdf77e5e5f"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  onAuthStateChanged(auth, (user) => {
    if (user) {
      const avatar = user.photoURL || "https://via.placeholder.com/40";
      const avatarImg = document.getElementById("user-avatar");
      avatarImg.src = avatar;

      // Logout handler
      const logoutBtn = document.getElementById("logout-btn");
      logoutBtn.addEventListener("click", async () => {
        await signOut(auth);
        window.location.href = "login.html";
      });
    }
  });
</script>




